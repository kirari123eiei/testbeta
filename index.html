<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Air Quality Map</title>

<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<!-- Chart -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<link href="https://cdn.lineicons.com/5.0/lineicons.css" rel="stylesheet">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Anuphan:wght@100..700&family=Athiti:wght@600&family=Kanit&family=Noto+Sans+Thai:wght@100..900&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  background:#0f1220;
  color:#fff;
  font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
}

body:lang(th) {
  font-family: "Noto Sans Thai", sans-serif;
}


.header{
  background:#111827;
  padding:16px;
  border-bottom:1px solid #333;
}
.header-content{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.header-title {
  margin-left: 25px;
}
.nav-tabs{
  display:flex;
  gap:10px;
  padding:10px;
  background:#0f1220;
}
.nav-btn{
  padding:10px 20px;
  border-radius:8px;
  border:none;
  background:#2a2a3e;
  font-weight: bold;
  color:#aaa;
  cursor:pointer;
}
.nav-btn.active{
  background:#667eea;
  color:#fff;
}
.hidden{display:none}

.container{
  display:grid;
  grid-template-columns:1.2fr 1fr;
  gap:16px;
  padding:16px;
}
.container.single-column {
  grid-template-columns: 1fr;
  max-width: 1000px;
  margin: 0 auto;
}
.card{
  background:#15172a;
  border-radius:16px;
  padding:16px;
}
#map{
  width:100%;
  height:500px;
  border-radius:16px;
}
input,button{
  padding:8px 12px;
  border-radius:8px;
  border:none;
}
button{
  background:#667eea;
  color:#fff;
  cursor:pointer;
}
.row{
  display:flex;
  gap:8px;
  margin-top:15px;
}

/* Risk card */
.risk-card{
  padding:20px;
  border-radius:16px;
  background:linear-gradient(135deg,#1f2933,#111827);
  border:2px solid;
  text-align:center;
  margin-bottom:16px;
}

.risk-title{
  color:#ffffff;
  font-size:16px;
}

.risk-value{
  font-size:40px;
  font-weight:700;
  line-height:1;
  margin:8px 0;
}

.risk-level{
  font-size:16px;
  font-weight:600;
}

.risk-low{border-color:#2ecc71;color:#2ecc71}
.risk-medium{border-color:#f1c40f;color:#f1c40f}
.risk-high{border-color:#e74c3c;color:#e74c3c}

.aqi-card{
  margin-top:16px;
  padding:20px;
  border-radius:16px;
  background:linear-gradient(135deg,#1f2933,#111827);
  border:2px solid #3b82f6;
  text-align:center;
}
.aqi-title{
  color:#ffffff;
  font-size:16px;
}
.aqi-value{
  font-size:40px;
  font-weight:700;
  line-height:1;
  margin:8px 0;
}
.aqi-level{
  font-size:16px;
  font-weight:600;
}
.aqi-good{border-color:#2ecc71;color:#2ecc71}
.aqi-fair{border-color:#f1c40f;color:#f1c40f}
.aqi-poor{border-color:#e67e22;color:#e67e22}
.aqi-bad{border-color:#e74c3c;color:#e74c3c}
.aqi-verybad{border-color:#8e44ad;color:#c084fc}

/* ===== HEADER ===== */
.header {
    background: rgba(20, 20, 30, 0.95);
    padding: 20px;
}

/* ===== WEATHER CARDS ===== */
.weather-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 16px;
  margin-top: 20px;
}

.weather-day-card {
  background: linear-gradient(135deg, #1f2933, #111827);
  border: 2px solid #3b82f6;
  border-radius: 16px;
  padding: 20px;
  text-align: center;
  transition: transform 0.3s, box-shadow 0.3s;
}

.weather-day-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
}

.weather-date {
  font-size: 14px;
  color: #888;
  margin-bottom: 8px;
}

.weather-day {
  font-size: 18px;
  font-weight: 600;
  color: #fff;
  margin-bottom: 12px;
}

.weather-icon {
  font-size: 48px;
  margin: 12px 0;
}

.weather-temp {
  font-size: 32px;
  font-weight: 700;
  color: #3b82f6;
  margin: 8px 0;
}

.weather-temp-range {
  font-size: 14px;
  color: #aaa;
  margin-bottom: 12px;
}

.weather-condition {
  font-size: 16px;
  color: #fff;
  font-weight: 500;
  margin-bottom: 8px;
}

.weather-rain {
  font-size: 14px;
  color: #60a5fa;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
}

.weather-details {
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  display: flex;
  flex-direction: column;
  gap: 8px;
  font-size: 13px;
  color: #aaa;
}

.weather-detail-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
}


.header-content {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.header-title {
    font-size: 24px;
    font-weight: 600;
    margin-bottom: 0;
}

.header p {
  margin: 0;
  padding-left: 25px;
  color: rgb(211, 211, 211);
}

.user-info {
    display: flex;
    align-items: center;
    gap: 20px;
}

.user-email {
    color: #888;
}

.logout-btn {
    padding: 12px 18px;
    background: #dc2626;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    color: white;
    cursor: pointer;
    transition: background 0.3s;
}

.logout-btn:hover {
    background: #b91c1c;
}

/* ===== NAV ===== */
/* ===== NAV SCROLLABLE ===== */
.nav-tabs {
  background: rgba(20, 20, 30, 0.95);
  padding: 10px 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);

  display: flex;
  justify-content: flex-start;   /* üëà ‡∏ä‡∏¥‡∏î‡∏ã‡πâ‡∏≤‡∏¢ */
  overflow-x: auto;
  white-space: nowrap;
  -webkit-overflow-scrolling: touch;
}


@media (min-width: 992px) {
  .nav-tabs {
    justify-content: center;   /* üëà ‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞ desktop */
  }
}


/* ===== HEALTH CHECK CARDS ===== */
.health-check-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  padding: 20px;
  max-width: 1400px;
  margin: 0 auto;
}

.health-check-card {
  background: linear-gradient(135deg, #1f2933, #111827);
  border: 2px solid #3b82f6;
  border-radius: 16px;
  padding: 24px;
}

.health-check-card h2 {
  color: #3b82f6;
  margin-top: 0;
  margin-bottom: 20px;
  font-size: 20px;
  text-align: center;
}

.form-group {
  margin-bottom: 16px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  color: #aaa;
  font-size: 14px;
}

.form-group input,
.form-group select {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid #333;
  background: #0f1220;
  color: #fff;
  font-size: 14px;
  box-sizing: border-box;
}

.form-group input:focus,
.form-group select:focus {
  outline: none;
  border-color: #667eea;
}

.submit-btn {
  width: 100%;
  padding: 14px;
  background: #667eea;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  transition: background 0.3s;
  margin-top: 10px;
}

.submit-btn:hover {
  background: #5568d3;
}

.submit-btn:disabled {
  background: #444;
  cursor: not-allowed;
}

.result-box {
  margin-top: 20px;
  padding: 20px;
  border-radius: 12px;
  display: none;
  text-align: center;
}

.result-box.show {
  display: block;
}

.result-box.low {
  background: rgba(46, 204, 113, 0.1);
  border: 2px solid #2ecc71;
  color: #2ecc71;
}

.result-box.medium {
  background: rgba(241, 196, 15, 0.1);
  border: 2px solid #f1c40f;
  color: #f1c40f;
}

.result-box.high {
  background: rgba(231, 76, 60, 0.1);
  border: 2px solid #e74c3c;
  color: #e74c3c;
}

.result-title {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 10px;
}

.result-value {
  font-size: 36px;
  font-weight: 700;
  margin: 10px 0;
}

.result-description {
  font-size: 14px;
  color: #aaa;
  margin-top: 10px;
}

@media (max-width: 768px) {
  .health-check-container {
    grid-template-columns: 1fr;
  }
}


/* ‡∏ã‡πà‡∏≠‡∏ô scrollbar */
.nav-tabs::-webkit-scrollbar {
  height: 0;
}


.nav-content {
  display: inline-flex;
  gap: 10px;
  min-width: max-content;  /* ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å */
}


.nav-btn {
    padding: 12px 24px;
    background: #2a2a3e;
    border: none;
    border-radius: 8px;
    color: #888;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 8px;

    flex-shrink: 0;        /* ‚úÖ ‡∏´‡πâ‡∏≤‡∏°‡∏´‡∏î */
  white-space: nowrap;  /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏±‡∏î */
}

.nav-btn.active {
    background: linear-gradient(135deg, #667eea 0%, #8b50c6 100%);
    color: white;
}

/* ===== NAV BUTTON HOVER EFFECT ===== */
.nav-btn{
  position: relative;
  background-color: transparent;   /* ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á */
  text-transform: uppercase;
}

.nav-btn::before{
  content: "";
  display: inline-block;
  height: 1px;
  width: 0;
  background-color: #fff;
  margin-right: 10px;
  transition: all .42s cubic-bezier(.25,.8,.25,1);
}

.nav-btn:hover {
  background-color: #313033;
}

.nav-btn:hover::before{
  width: 1rem;

}

/* ‡∏Å‡∏±‡∏ô active ‡πÄ‡∏î‡∏¥‡∏°‡∏û‡∏±‡∏á */
.nav-btn.active::before{
  width: 2rem;
}


/* ===== CHAT ===== */

.chat-header {
    padding: 20px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.chat-subtitle {
    color: #888;
    font-size: 14px;
    margin-top: 8px;
}

.chat-messages {
    height: 500px;
    overflow-y: auto;
    padding: 30px;
}

.message {
    margin-bottom: 20px;
    display: flex;
}

.message.user {
    justify-content: flex-end;
}

.message-content {
    max-width: 70%;
    padding: 15px 20px;
    border-radius: 15px;
}

.message.user .message-content {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.message.assistant .message-content {
    background: #2a2a3e;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.chat-input-area {
    padding: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    gap: 10px;
}

.chat-input {
    flex: 1;
    padding: 14px;
    background: #1a1a2e;
    border: 1px solid #333;
    border-radius: 10px;
    color: white;
    font-size: 16px;
}

.send-btn {
    padding: 14px 30px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    border-radius: 10px;
    color: white;
    cursor: pointer;
    transition: transform 0.2s;
}

.send-btn:hover {
    transform: translateY(-2px);
}

/* ===== EMPTY STATE ===== */
.empty-state {
    text-align: center;
    padding: 100px 20px;
    color: #666;
}

.empty-icon {
    font-size: 80px;
    margin-bottom: 20px;
    opacity: 0.5;
}

/* ===== HIDDEN ===== */
.hidden {
    display: none !important;
}

/* ===== Responsive ===== */
@media (max-width: 992px) {
  .container {
    grid-template-columns: 1fr;   /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
  }

  /* ‡πÉ‡∏´‡πâ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô */
  #mapPage {
    order: 1;
  }

  /* ‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏≠‡∏¢‡∏π‡πà‡∏•‡πà‡∏≤‡∏á */
  .container > .card {
    order: 2;
  }

  #map {
    height: 350px; /* ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
  }
}

/* ===== Pollutant Cards ===== */
.pollutant-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin-top: 16px;
}

.pollutant-card {
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px;
  padding: 14px 16px;

  display: flex;
  justify-content: space-between;
  align-items: center;
}

.pollutant-card span {
  color: #9ca3af;
  font-size: 14px;
}

.pollutant-card b {
  font-size: 18px;
  font-weight: 600;
  color: #e5e7eb;
}

/* ===== ‡πÄ‡∏ï‡πá‡∏°‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏Ñ‡∏≠‡∏° ===== */
@media (max-width: 900px) {
  .pollutant-grid {
    grid-template-columns: 1fr;
  }
}

/* ===== USER BADGE ===== */
.user-badge{
  display: flex;
  align-items: center;
  gap: 3px;
  text-decoration: none;
  color: #e5e7eb;

  padding: 5px;
  padding-right: 8px;
  border-radius: 15px;

  background: rgba(255,255,255,0.06);
  transition: background 0.25s ease, transform 0.2s ease;
}

.user-badge:hover{
  background: rgba(255,255,255,0.14);
  transform: translateY(-1px);
}

.user-name{
  font-weight: 600;
  letter-spacing: 1px;
  font-size: 12px;
  white-space: nowrap;
  padding-left: 10px;
  padding-right: 10px;
  text-align: center;

}

.user-icon{
  width: 28px;
  height: 28px;
  flex-shrink: 0;
}

.user-badge,
.logout-btn {
  height: 40px;              /* ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏Ç‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ */
  display: flex;
  align-items: center;
}

/* ===== Modern Input Style ===== */
.input {
  width: 100%;
  max-width: 220px;
  height: 15px;
  padding: 12px;
  border-radius: 12px;
  border: 1.5px solid rgba(255,255,255,0.2);
  outline: none;
  background: rgba(255,255,255,0.05);
  color: #fff;

  transition: all 0.3s cubic-bezier(0.19, 1, 0.22, 1);
  box-shadow: 0px 0px 20px -18px rgba(0,0,0,0.8);
}

.input::placeholder {
  color: #9ca3af;
}

.input:hover {
  border: 2px solid rgba(255,255,255,0.3);
  box-shadow: 0px 0px 20px -17px rgba(0,0,0,0.9);
}

.input:active {
  transform: scale(0.96);
}

.input:focus {
  border: 2px solid #667eea;
  background: rgba(255,255,255,0.08);
}

#latInput,
#lonInput {
  max-width: 160px;
}

.row {
  flex-wrap: wrap;
}

.form-center {
  display: flex;
  justify-content: center;   /* ‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô */
  margin-top: 20px;
}

.form-center iframe {
  max-width: 100%;
  width: 800px;
}

.weather-main{
  grid-column: 1 / -1;
  max-width: 800px;   /* ‚úÖ ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏à‡∏≠‡πÉ‡∏´‡∏ç‡πà */
  width: 100%;        /* ‚úÖ ‡πÉ‡∏´‡πâ‡∏¢‡∏∑‡∏î‡∏ï‡∏≤‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ */
  margin: 0 auto;

  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30px;
  align-items: center;
}

/* üì± Mobile */
@media (max-width: 768px){
  .weather-main{
    grid-template-columns: 1fr;   /* ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ö‡∏ô‚Äì‡∏•‡πà‡∏≤‡∏á */
    gap: 20px;
    text-align: center;
  }

  .weather-right{
    border-top: 1px solid rgba(255,255,255,0.1);
    padding-top: 16px;
  }

}

  /* ===== More Information (Soft Dark Style) ===== */

.info-content {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

/* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ */
.info-item {
  background: linear-gradient(
    135deg,
    rgba(255,255,255,0.04),
    rgba(255,255,255,0.02)
  );
  border-radius: 16px;
  padding: 22px 26px;

  border-left: 4px solid #60a5fa; /* ‡∏ü‡πâ‡∏≤‡∏ô‡∏∏‡πà‡∏° */
  box-shadow: 0 8px 24px rgba(0,0,0,0.35);

  transition: transform 0.25s ease, box-shadow 0.25s ease;
}


/* ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ */
.info-item h3 {
  margin-bottom: 12px;
  color: #93c5fd;        /* ‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô */
  font-size: 1.15rem;
  font-weight: 600;
}

/* ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ */
.info-item p {
  color: #cbd5e1;        /* ‡πÄ‡∏ó‡∏≤‡∏≠‡πà‡∏≠‡∏ô ‡∏≠‡πà‡∏≤‡∏ô‡∏™‡∏ö‡∏≤‡∏¢ */
  line-height: 1.8;
  margin-bottom: 12px;
  font-size: 0.95rem;
}

/* ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡πà‡∏≠‡∏¢ */
.info-item ul {
  padding-left: 18px;
  color: #d1d5db;
  line-height: 1.7;
  font-size: 0.95rem;
}

.info-item ul li {
  margin-bottom: 6px;
}

/* ‡∏ï‡∏±‡∏ß‡πÄ‡∏ô‡πâ‡∏ô */
.info-item strong {
  color: #e5e7eb;
}


  .reference-list {
  line-height: 1.8;
  font-size: 1rem;
  color: #e5e7eb;          /* ‡∏™‡∏µ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏´‡∏•‡∏±‡∏Å (‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏°‡∏∑‡∏î) */
}

.reference-list em {
  color: #c7d2fe;          /* ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ */
}

.reference-list li {
  margin-bottom: 18px;
}

.reference-list a {
  color: #60a5fa;          /* ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡∏ô‡∏∏‡πà‡∏° */
  text-decoration: none;
  word-break: break-word; /* ‡∏Å‡∏±‡∏ô URL ‡∏•‡πâ‡∏ô */
}

.reference-list a:hover {
  text-decoration: underline;
}





</style>
</head>

<body>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- Header -->
<header class="header">
    <div class="header-content">
        <h1 class="header-title">An Artificial Intelligence‚ÄìBased Screening System for Respiratory Disease <br> and Heatstroke Risk Using Air Quality Data and Preliminary Symptoms</h1>
        
        <div class="user-info">
          <a href="profile.html" class="user-badge">
            <span id="userEmail" class="user-name">user</span>

            <svg height="32" width="32" viewBox="0 0 1024 1024" class="user-icon">
              <path fill="#FFCE8B"
                d="M1021.103385 510.551692A510.551692 510.551692 0 1 1 510.551692 0a510.551692 510.551692 0 0 1 510.551693 510.551692"/>
              <path fill="#644646"
                d="M809.99026 493.192935v315.26567H494.979866a317.052601 317.052601 0 0 1-66.626996-7.147724V493.192935z"/>
              <path fill="#644646"
                d="M809.99026 493.192935H428.35287v308.117946A315.010394 315.010394 0 0 1 178.693092 493.192935"/>
              <path fill="#FBD1BB"
                d="M700.987474 390.572045v163.121266a195.796574 195.796574 0 0 1-119.724372 183.798609"/>
            </svg>
          </a>

  <button class="logout-btn" onclick="logout()">Log out</button>

</div>

    </div>
    <p> ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÇ‡∏£‡∏Ñ‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡πÇ‡∏£‡∏Ñ‡∏•‡∏°‡πÅ‡∏î‡∏î‡∏à‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏õ‡∏±‡∏ç‡∏ç‡∏≤‡∏õ‡∏£‡∏∞‡∏î‡∏¥‡∏©‡∏ê‡πå </p>
</header>

<!-- Navigation -->
<nav class="nav-tabs">
    <div class="nav-content">
        <button class="nav-btn active" onclick="switchPage('map')">
            Map & AQI
        </button>
        <button class="nav-btn" onclick="switchPage('weather')">
            Weather
        </button>
        <button class="nav-btn" onclick="switchPage('chat')">
            Ask AI For Health
        </button>
        <button class="nav-btn" onclick="switchPage('information')">
            More Information
        </button>
        <button class="nav-btn" onclick="switchPage('reference')">
            Reference
        </button>
        <button class="nav-btn" onclick="switchPage('rateus')">
            Rate US
        </button>
    </div>
</nav>



<div class="container" id="mainContainer">

  <!-- MAP -->
   <div id="mapPage">
    <div class="card" style="text-align: center;">
      <h3>
        <i class="lni lni-map-marker-1" style="font-size: 30px; vertical-align: middle;"></i>
        Map
      </h3>
      <div id="map"></div>

      <div class="row search-row">
        <input
          id="cityInput"
          class="input"
          type="text"
          placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏°‡∏∑‡∏≠‡∏á ‡πÄ‡∏ä‡πà‡∏ô Bangkok"
          onkeydown="if(event.key==='Enter'){searchCity();}"
        >

        <button class="search-btn" onclick="searchCity()">
          <i class="lni lni-search-2"></i>
          Search
        </button>
      </div>



      <div class="row">
        <input
          id="latInput"
          class="input"
          type="text"
          placeholder="Latitude"
          onkeydown="if(event.key==='Enter'){selectLatLon();}"
        >

        <input
          id="lonInput"
          class="input"
          type="text"
          placeholder="Longitude"
          onkeydown="if(event.key==='Enter'){selectLatLon();}"
        >

              
        <button onclick="selectLatLon()">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏¥‡∏Å‡∏±‡∏î</button>
      </div>
    </div>
  </div>

  <!-- DATA -->
  <div class="card" id="dataCard" style="text-align: center;">
    <h3 class="section-title">
        <i class="lni lni-bar-chart-4" style="font-size: 30px; vertical-align: middle;"></i>
        <span>Air Quality Information</span>
    </h3>

    <div id="emptyHint" style="text-align: center; margin-top: 150px;">
      <i class="lni lni-arrow-left-circle" style="font-size: 20px; vertical-align: middle;"></i> 
      ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏à‡∏≤‡∏Å‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà
    </div>

    <div id="dataBox" class="hidden">

      <div id="riskCard" class="risk-card">
        <div class="risk-title">‚ö†Ô∏è ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÇ‡∏£‡∏Ñ‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à</div>
        <div class="risk-value" id="riskPercent">0%</div>
        <div class="risk-level" id="riskLevel">‚Äì</div>
      </div>

      <div class="aqi-card" id="aqiCard">
    <div class="aqi-title">üå´ ‡∏î‡∏±‡∏ä‡∏ô‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏® (AQI)</div>
    <div class="aqi-value" id="aqiValueText">‚Äì</div>
    <div class="aqi-level" id="aqiLevelText">‚Äì</div>
    </div>


      <div class="pollutant-grid">
  <div class="pollutant-card">
    <span>PM2.5</span>
    <b id="pm25"></b>
  </div>

  <div class="pollutant-card">
    <span>PM10</span>
    <b id="pm10"></b>
  </div>

  <div class="pollutant-card">
    <span>CO</span>
    <b id="co"></b>
  </div>

  <div class="pollutant-card">
    <span>NO‚ÇÇ</span>
    <b id="no2"></b>
  </div>
</div>


      <h3 style="margin-top:50px;">
        PM2.5 Forecast
      </h3>
      <canvas id="forecastChart"></canvas>
    </div>
  </div>

</div>

<!-- Weather Page -->
<div id="weatherPage" class="hidden">
  <div class="container single-column">
    <div class="card">
      <div class="chat-header">
        <h2 class="card-title">Weather - ‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô ‡∏ì ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô</h2>
        <p class="chat-subtitle">
          ‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å ‡∏Å‡∏£‡∏°‡∏≠‡∏∏‡∏ï‡∏∏‡∏ô‡∏¥‡∏¢‡∏°‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤)
        </p>
      </div>
      
      <div id="weatherLoading" style="padding: 40px; text-align: center; color: #888;">
        <div style="font-size: 48px; margin-bottom: 16px;">‚è≥</div>
        <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏≤‡∏Å‡∏≤‡∏®...</p>
      </div>
      
      <div id="weatherContent" style="padding: 20px; display: none;">
        <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
      </div>
      
      <div id="weatherError" style="padding: 40px; text-align: center; color: #e74c3c; display: none;">
        <div style="font-size: 48px; margin-bottom: 16px;">‚ö†Ô∏è</div>
        <p>‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÑ‡∏î‡πâ</p>
      </div>
    </div>
  </div>
</div>

  <!-- Chat Page -->
<div id="chatPage" class="hidden">
  <div class="health-check-container">
    
    <!-- ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà 1: ‡πÇ‡∏£‡∏Ñ‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à -->
    <div class="health-check-card">
      <h2>ü´Å ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏£‡∏Ñ‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à</h2>
      
      <div class="form-group">
        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
          <input type="checkbox" id="cough" style="width: auto; cursor: pointer;">
          <span>‡πÑ‡∏≠</span>
        </label>
      </div>
      
      <div class="form-group">
        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
          <input type="checkbox" id="feverlittle" style="width: auto; cursor: pointer;">
          <span>‡πÑ‡∏Ç‡πâ‡∏ï‡πà‡∏≥</span>
        </label>
      </div>
      
      <div class="form-group">
        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
          <input type="checkbox" id="sore_throat" style="width: auto; cursor: pointer;">
          <span>‡πÄ‡∏à‡πá‡∏ö‡∏Ñ‡∏≠</span>
        </label>
      </div>
      
      <div class="form-group">
        <label for="aqi">AQI (‡∏î‡∏±‡∏ä‡∏ô‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®)</label>
        <input type="number" id="aqi" value="50" min="0" max="500">
      </div>
      
      <button onclick="analyzeResp()" class="submit-btn">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏£‡∏Ñ‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à</button>
      
      <div id="respiratoryResult" class="result-box">
        <div class="result-title">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</div>
        <div id="respiratoryContent" style="margin-top: 15px;"></div>
      </div>
    </div>
    
    <!-- ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà 2: ‡πÇ‡∏£‡∏Ñ‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô -->
    <div class="health-check-card">
      <h2>‚òÄÔ∏è ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô</h2>
      
      <div class="form-group">
        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
          <input type="checkbox" id="high_temp" style="width: auto; cursor: pointer;">
          <span>‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏£‡πâ‡∏≠‡∏ô‡∏à‡∏±‡∏î</span>
        </label>
      </div>
      
      <div class="form-group">
        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
          <input type="checkbox" id="heavy_sweat" style="width: auto; cursor: pointer;">
          <span>‡πÄ‡∏´‡∏á‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏Å</span>
        </label>
      </div>
      
      <div class="form-group">
        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
          <input type="checkbox" id="dizziness" style="width: auto; cursor: pointer;">
          <span>‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏®‡∏µ‡∏£‡∏©‡∏∞</span>
        </label>
      </div>
      
      <div class="form-group">
        <label for="temperature">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ (¬∞C)</label>
        <input type="number" id="temperature" value="35" min="0" max="50" step="0.1">
      </div>
      
      <button onclick="analyzeHeat()" class="submit-btn">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô</button>
      
      <div id="heatResult" class="result-box">
        <div class="result-title">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</div>
        <div id="heatContent" style="margin-top: 15px;"></div>
      </div>
    </div>
    
  </div>
</div>


<!-- Information Page -->
<div id="informationPage" class="hidden">
  <div class="container single-column">
    <div class="card">
        <div class="chat-header">
            <h2 class="card-title">More Information - ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</h2>
            <p class="chat-subtitle">
                ‡πÇ‡∏£‡∏Ñ‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏ ‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏Å‡∏≤‡∏£ ‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á
            </p>
        </div>

        <div class="info-content">
          <div class="info-item">
            <h3>1. ‡πÇ‡∏£‡∏Ñ‡∏´‡∏ß‡∏±‡∏î (Common Cold)</h3>
            <p>
              ‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÑ‡∏ß‡∏£‡∏±‡∏™‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 100 ‡∏ä‡∏ô‡∏¥‡∏î ‡πÇ‡∏î‡∏¢‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°
              <strong>Rhinovirus</strong> ‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÑ‡∏ß‡∏£‡∏±‡∏™‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÄ‡∏¢‡∏∑‡πà‡∏≠‡∏ö‡∏∏‡πÇ‡∏û‡∏£‡∏á‡∏à‡∏°‡∏π‡∏Å
              ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö‡πÅ‡∏•‡∏∞‡∏ö‡∏ß‡∏°‡πÅ‡∏î‡∏á
            </p>
            <ul>
              <li><strong>‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:</strong> ‡∏Ñ‡∏±‡∏î‡∏à‡∏°‡∏π‡∏Å ‡∏ô‡πâ‡∏≥‡∏°‡∏π‡∏Å‡πÉ‡∏™ ‡πÑ‡∏≠ ‡∏à‡∏≤‡∏° ‡πÄ‡∏à‡πá‡∏ö‡∏Ñ‡∏≠ ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏´‡∏ö ‡πÑ‡∏Ç‡πâ‡∏ï‡πà‡∏≥</li>
              <li><strong>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤:</strong> 2‚Äì5 ‡∏ß‡∏±‡∏ô (‡∏ô‡πâ‡∏≥‡∏°‡∏π‡∏Å‡∏≠‡∏≤‡∏à‡∏ô‡∏≤‡∏ô‡∏ñ‡∏∂‡∏á 10‚Äì14 ‡∏ß‡∏±‡∏ô)</li>
              <li><strong>‡∏†‡∏≤‡∏ß‡∏∞‡πÅ‡∏ó‡∏£‡∏Å‡∏ã‡πâ‡∏≠‡∏ô:</strong> ‡πÑ‡∏ã‡∏ô‡∏±‡∏™‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö ‡∏´‡∏π‡∏ä‡∏±‡πâ‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö ‡∏ï‡πà‡∏≠‡∏°‡∏ó‡∏≠‡∏ô‡∏ã‡∏¥‡∏•‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö</li>
            </ul>
          </div>

          <div class="info-item">
            <h3>2. ‡πÇ‡∏£‡∏Ñ‡πÑ‡∏Ç‡πâ‡∏´‡∏ß‡∏±‡∏î‡πÉ‡∏´‡∏ç‡πà (Influenza)</h3>
            <p>
              ‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÑ‡∏ß‡∏£‡∏±‡∏™‡∏≠‡∏¥‡∏ô‡∏ü‡∏•‡∏π‡πÄ‡∏≠‡∏ô‡∏ã‡∏≤ (Influenza Virus) ‡∏™‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå A, B ‡πÅ‡∏•‡∏∞ C
              ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡∏•‡∏∞‡∏≠‡∏≠‡∏á‡∏ù‡∏≠‡∏¢‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÑ‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏≤‡∏°
            </p>
            <ul>
              <li><strong>‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡πà‡∏ô:</strong> ‡πÑ‡∏Ç‡πâ‡∏™‡∏π‡∏á 39‚Äì40¬∞C ‡∏´‡∏ô‡∏≤‡∏ß‡∏™‡∏±‡πà‡∏ô ‡∏õ‡∏ß‡∏î‡∏®‡∏µ‡∏£‡∏©‡∏∞ ‡∏õ‡∏ß‡∏î‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á</li>
              <li><strong>‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á:</strong> ‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏ ‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏•‡πá‡∏Å ‡∏ú‡∏π‡πâ‡∏°‡∏µ‡πÇ‡∏£‡∏Ñ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß</li>
              <li><strong>‡∏†‡∏≤‡∏ß‡∏∞‡πÅ‡∏ó‡∏£‡∏Å‡∏ã‡πâ‡∏≠‡∏ô:</strong> ‡∏õ‡∏≠‡∏î‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß</li>
            </ul>
          </div>

          <div class="info-item">
            <h3>3. ‡πÇ‡∏£‡∏Ñ‡∏õ‡∏≠‡∏î‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö (Pneumonia)</h3>
            <p>
              ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏õ‡∏≠‡∏î‡πÅ‡∏•‡∏∞‡∏ñ‡∏∏‡∏á‡∏•‡∏° ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏´‡∏ô‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß‡∏Ñ‡∏±‡πà‡∏á
              ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏à‡∏≤‡∏Å‡πÅ‡∏ö‡∏Ñ‡∏ó‡∏µ‡πÄ‡∏£‡∏µ‡∏¢ ‡πÑ‡∏ß‡∏£‡∏±‡∏™ ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤
            </p>
            <ul>
              <li><strong>‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:</strong> ‡πÑ‡∏Ç‡πâ‡∏™‡∏π‡∏á ‡πÑ‡∏≠‡∏°‡∏µ‡πÄ‡∏™‡∏°‡∏´‡∏∞ ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏•‡∏≥‡∏ö‡∏≤‡∏Å ‡∏´‡∏≠‡∏ö‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢</li>
              <li><strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á:</strong> ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÉ‡∏ô‡πÄ‡∏î‡πá‡∏Å‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 5 ‡∏õ‡∏µ‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏</li>
            </ul>
          </div>

          <div class="info-item">
            <h3>4. ‡πÇ‡∏£‡∏Ñ‡∏´‡∏•‡∏≠‡∏î‡∏•‡∏°‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö (Bronchitis)</h3>
            <ul>
              <li><strong>‡∏ä‡∏ô‡∏¥‡∏î‡πÄ‡∏â‡∏µ‡∏¢‡∏ö‡∏û‡∏•‡∏±‡∏ô:</strong> ‡∏°‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏î‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ß‡∏±‡∏î</li>
              <li><strong>‡∏ä‡∏ô‡∏¥‡∏î‡πÄ‡∏£‡∏∑‡πâ‡∏≠‡∏£‡∏±‡∏á:</strong> ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏•‡∏û‡∏¥‡∏©</li>
              <li><strong>‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:</strong> ‡πÑ‡∏≠‡∏ñ‡∏µ‡πà ‡πÄ‡∏™‡∏°‡∏´‡∏∞‡∏°‡∏≤‡∏Å ‡πÄ‡∏à‡πá‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏Å ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏´‡∏ß‡∏µ‡∏î</li>
            </ul>
          </div>

          <div class="info-item">
            <h3>5. ‡πÇ‡∏£‡∏Ñ‡∏´‡∏≠‡∏ö‡∏´‡∏∑‡∏î (Asthma)</h3>
            <p>
              ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö‡πÄ‡∏£‡∏∑‡πâ‡∏≠‡∏£‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏´‡∏•‡∏≠‡∏î‡∏•‡∏°‡πÑ‡∏ß‡∏ï‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô
            </p>
            <ul>
              <li><strong>‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:</strong> ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏´‡∏ß‡∏µ‡∏î ‡πÑ‡∏≠ ‡πÅ‡∏ô‡πà‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏Å</li>
              <li><strong>‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô:</strong> ‡πÑ‡∏£‡∏ù‡∏∏‡πà‡∏ô ‡∏Ñ‡∏ß‡∏±‡∏ô‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà PM2.5 ‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢</li>
            </ul>
          </div>

          <div class="info-item">
            <h3>6. ‡∏ß‡∏±‡∏ì‡πÇ‡∏£‡∏Ñ (Tuberculosis - TB)</h3>
            <ul>
              <li><strong>‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:</strong> ‡πÑ‡∏≠‡πÄ‡∏Å‡∏¥‡∏ô 2 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå ‡πÑ‡∏Ç‡πâ‡∏ï‡πà‡∏≥ ‡πÄ‡∏´‡∏á‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏•‡∏î</li>
              <li><strong>‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠:</strong> ‡∏ó‡∏≤‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÑ‡∏≠ ‡∏à‡∏≤‡∏° ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏π‡∏î</li>
            </ul>
          </div>

          <div class="info-item">
            <h3>7. ‡πÇ‡∏£‡∏Ñ‡∏ó‡∏≠‡∏ô‡∏ã‡∏¥‡∏•‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö (Tonsillitis)</h3>
            <ul>
              <li><strong>‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:</strong> ‡πÄ‡∏à‡πá‡∏ö‡∏Ñ‡∏≠‡∏°‡∏≤‡∏Å ‡πÑ‡∏Ç‡πâ‡∏™‡∏π‡∏á ‡∏Ñ‡∏≠‡πÅ‡∏î‡∏á ‡∏°‡∏µ‡∏´‡∏ô‡∏≠‡∏á</li>
              <li><strong>‡∏†‡∏≤‡∏ß‡∏∞‡πÅ‡∏ó‡∏£‡∏Å‡∏ã‡πâ‡∏≠‡∏ô:</strong> ‡∏ù‡∏µ‡∏£‡∏≠‡∏ö‡∏ï‡πà‡∏≠‡∏°‡∏ó‡∏≠‡∏ô‡∏ã‡∏¥‡∏• ‡πÑ‡∏ï‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö ‡πÇ‡∏£‡∏Ñ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏£‡∏π‡∏´‡πå‡∏°‡∏≤‡∏ï‡∏¥‡∏Å</li>
            </ul>
          </div>

          <div class="info-item">
            <h3>8. ‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏Ñ‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏∑‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏ù‡∏∏‡πà‡∏ô PM2.5</h3>
            <p>
              ‡∏ù‡∏∏‡πà‡∏ô‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏ñ‡∏∏‡∏á‡∏•‡∏°‡∏õ‡∏≠‡∏î‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÄ‡∏•‡∏∑‡∏≠‡∏î
              ‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô‡πÇ‡∏£‡∏Ñ‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡∏´‡∏±‡∏ß‡πÉ‡∏à
            </p>
          </div>

          <div class="info-item">
            <h3>9. ‡πÑ‡∏ã‡∏ô‡∏±‡∏™‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö (Sinusitis)</h3>
            <p>
              ‡∏°‡∏±‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏ß‡∏∞‡πÅ‡∏ó‡∏£‡∏Å‡∏ã‡πâ‡∏≠‡∏ô‡∏à‡∏≤‡∏Å‡∏´‡∏ß‡∏±‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≠‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö
              ‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏ô‡πâ‡∏≥‡∏°‡∏π‡∏Å‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏Ñ‡∏±‡πà‡∏á‡πÉ‡∏ô‡πÇ‡∏û‡∏£‡∏á‡πÑ‡∏ã‡∏ô‡∏±‡∏™
            </p>
          </div>

          <div class="info-item">
            <h3>10. ‡πÇ‡∏£‡∏Ñ‡∏õ‡∏≠‡∏î‡∏≠‡∏∏‡∏î‡∏Å‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏∑‡πâ‡∏≠‡∏£‡∏±‡∏á (COPD)</h3>
            <ul>
              <li><strong>‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏´‡∏•‡∏±‡∏Å:</strong> ‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÅ‡∏•‡∏∞‡∏°‡∏•‡∏û‡∏¥‡∏©‡∏ó‡∏≤‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏®</li>
              <li><strong>‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÇ‡∏£‡∏Ñ:</strong> ‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏≠‡∏∏‡∏î‡∏Å‡∏±‡πâ‡∏ô‡∏ñ‡∏≤‡∏ß‡∏£</li>
            </ul>
          </div>

          <div class="info-item">
            <h3>11. ‡πÇ‡∏£‡∏Ñ‡∏ñ‡∏∏‡∏á‡∏•‡∏°‡πÇ‡∏õ‡πà‡∏á‡∏û‡∏≠‡∏á (Emphysema)</h3>
            <p>
              ‡∏ú‡∏ô‡∏±‡∏á‡∏ñ‡∏∏‡∏á‡∏•‡∏°‡∏ñ‡∏π‡∏Å‡∏ó‡∏≥‡∏•‡∏≤‡∏¢ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Å‡πä‡∏≤‡∏ã‡πÑ‡∏î‡πâ‡∏ô‡πâ‡∏≠‡∏¢‡∏•‡∏á
              ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô 4 ‡∏£‡∏∞‡∏¢‡∏∞
            </p>
          </div>

          <div class="info-item">
            <h3>12. ‡∏´‡∏•‡∏≠‡∏î‡∏•‡∏°‡πÇ‡∏õ‡πà‡∏á‡∏û‡∏≠‡∏á (Bronchiectasis)</h3>
            <p>
              ‡∏´‡∏•‡∏≠‡∏î‡∏•‡∏°‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏ñ‡∏≤‡∏ß‡∏£‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö‡∏ã‡πâ‡∏≥
              ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏°‡∏´‡∏∞‡∏Ñ‡∏±‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢
            </p>
          </div>

          <div class="info-item">
            <h3>13. ‡πÇ‡∏£‡∏Ñ‡πÇ‡∏Ñ‡∏ß‡∏¥‡∏î-19 (COVID-19)</h3>
            <ul>
              <li><strong>‡∏£‡∏∞‡∏¢‡∏∞‡∏ü‡∏±‡∏Å‡∏ï‡∏±‡∏ß:</strong> ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 14 ‡∏ß‡∏±‡∏ô (‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ 4‚Äì5 ‡∏ß‡∏±‡∏ô)</li>
              <li><strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á:</strong> ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡∏õ‡∏≠‡∏î‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á</li>
              <li><strong>‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á:</strong> ‡πÄ‡∏î‡πá‡∏Å‡∏≠‡∏≤‡∏¢‡∏∏ 0‚Äì6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</li>
            </ul>
          </div>

        </div>
    </div>
  </div>
</div>



<!-- Reference Page -->
<div id="referencePage" class="hidden">
  <div class="container single-column">
    <div class="card">
        <div class="chat-header">
            <h2 class="card-title"> Reference - ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á</h2>
            <p class="chat-subtitle">
                ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á
            </p>
        </div>

        <div style="padding: 30px; min-height: 400px;">
          <ol class="reference-list">
            <li>
              CH9 Airport Hospital. (2023, ‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô 8). <em>7 ‡πÇ‡∏£‡∏Ñ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à</em>.
              ‡∏™‡∏∑‡∏ö‡∏Ñ‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠ 29 ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2569, ‡∏à‡∏≤‡∏Å
              <a href="https://ch9airport.com/th/7-‡πÇ‡∏£‡∏Ñ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö/" target="_blank">
                https://ch9airport.com
              </a>
            </li>

            <li>
              ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡∏¥‡∏ô‡πÅ‡∏û‡∏ó‡∏¢‡πå. (2564, ‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏° 19).
              <em>‡πÇ‡∏£‡∏Ñ‡∏õ‡∏≠‡∏î‡∏≠‡∏∏‡∏î‡∏Å‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏∑‡πâ‡∏≠‡∏£‡∏±‡∏á (Chronic Obstructive Pulmonary Disease: COPD)</em>.
              ‡∏™‡∏∑‡∏ö‡∏Ñ‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠ 29 ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2569, ‡∏à‡∏≤‡∏Å
              <a href="https://www.synphaet.co.th/‡πÇ‡∏£‡∏Ñ‡∏õ‡∏≠‡∏î‡∏≠‡∏∏‡∏î‡∏Å‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏∑‡πâ‡∏≠‡∏£‡∏±‡∏á-chronic-o/" target="_blank">
                https://www.synphaet.co.th
              </a>
            </li>

            <li>
              MedPark Hospital. (‡∏°.‡∏õ.‡∏õ.).
              <em>Emphysema ‚Äì Stages, Symptoms and Treatment</em>.
              ‡∏™‡∏∑‡∏ö‡∏Ñ‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠ 29 ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2569, ‡∏à‡∏≤‡∏Å
              <a href="https://www.medparkhospital.com/disease-and-treatment/emphysema" target="_blank">
                https://www.medparkhospital.com
              </a>
            </li>

            <li>
              ‡∏Å‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û, ‡∏Å‡∏£‡∏°‡∏≠‡∏ô‡∏≤‡∏°‡∏±‡∏¢. (2565).
              <em>‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÄ‡∏ù‡πâ‡∏≤‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏†‡∏±‡∏¢‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô ‡∏õ‡∏µ 2568</em>.
              ‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç.
            </li>

            <li>
              ‡∏Å‡∏£‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÇ‡∏£‡∏Ñ. (2566).
              <em>‡πÇ‡∏£‡∏Ñ‡∏•‡∏°‡πÅ‡∏î‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏Æ‡∏µ‡∏ó‡∏™‡πÇ‡∏ï‡∏£‡∏Å ‡∏†‡∏±‡∏¢‡∏£‡πâ‡∏≤‡∏¢‡∏ä‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≠‡∏ô</em>.
              ‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç.
            </li>

            <li>
              ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û. (2568, 10 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏°).
              <em>5 ‡πÇ‡∏£‡∏Ñ‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ù‡∏ô</em>.
              ‡∏™‡∏∑‡∏ö‡∏Ñ‡πâ‡∏ô‡∏à‡∏≤‡∏Å
              <a href="https://www.bangkokhospital.com/content/5-respiratory-infections-in-rainy-season" target="_blank">
                https://www.bangkokhospital.com
              </a>
            </li>

            <li>
              ‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÑ‡∏ó‡∏¢‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï. (2568, 25 ‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô).
              <em>7 ‡πÇ‡∏£‡∏Ñ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏¢‡∏≠‡∏î‡∏Æ‡∏¥‡∏ï ‡∏£‡∏π‡πâ‡πÑ‡∏ß‡πâ‚Ä¶ ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ</em>.
              ‡∏™‡∏∑‡∏ö‡∏Ñ‡πâ‡∏ô‡∏à‡∏≤‡∏Å
              <a href="https://www.muangthai.co.th/th/article/7-common-respiratory-diseases" target="_blank">
                https://www.muangthai.co.th
              </a>
            </li>
          </ol>
        </div>

    </div>
  </div>
</div>


<!-- Rate Us Page -->
<div id="rateusPage" class="hidden">
  <div class="container single-column">
    <div class="card">
      <div class="chat-header">
        <h2 class="card-title">Rate Us - ‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à</h2>

        <div class="form-center">
          <iframe
            src="https://docs.google.com/forms/d/e/1FAIpQLSeP3N89SA97qQFYwdrKzCyJUnCg5dHZYHw8Vu55HVKTcPv9Eg/viewform?embedded=true"
            width="800"
            height="1000"
            frameborder="0"
            marginheight="0"
            marginwidth="0"
            style="background-color:#cacae7; border-radius:15px;">
            ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‚Ä¶
          </iframe>
        </div>

      </div>
    </div>
  </div>
</div>


<script>
const supabaseClient = supabase.createClient(
  "https://zmusdfezopzhrjmmtleo.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InptdXNkZmV6b3B6aHJqbW10bGVvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzMTI2MTksImV4cCI6MjA4Mzg4ODYxOX0.tzmdjzoYqrBn5Q6tU9d3zLOMFA8qnFX-obYW2HKXWfM"
);



async function checkUser() {
  const { data, error } = await supabaseClient.auth.getUser();

  if (error || !data.user) {
    window.location.href = "login.html";
    return;
  }

  const { data: profile } = await supabaseClient
    .from("personal_info")
    .select("Display_name")
    .eq("user_id", data.user.id)
    .single();

  document.getElementById("userEmail").textContent =
    profile?.Display_name || "User";
}

document.addEventListener("DOMContentLoaded", () => {
  checkUser();
});




// logout
async function logout(){
  await supabaseClient.auth.signOut();
  window.location.href = "login.html";
}

const API_KEY="c7d23cedbff3df0a737c2714bc16c722";

let map = L.map("map").setView([13.75,100.5],6);
let marker, chart;

/* TILE */
L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{
  attribution:"¬© OpenStreetMap"
}).addTo(map);

/* FIX map disappear */
setTimeout(()=>map.invalidateSize(true),500);

/* CLICK MAP */
map.on("click", async (e) => {
  const lat = e.latlng.lat;
  const lon = e.latlng.lng;

  latInput.value = lat.toFixed(6);
  lonInput.value = lon.toFixed(6);

  const cityName = await getCityName(lat, lon);
  cityInput.value = cityName;   // ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤

  loadAll(lat, lon);
});


/* SEARCH CITY */
async function searchCity(){
  const q=cityInput.value;
  if(!q) return;
  const r=await fetch(
    `https://api.openweathermap.org/geo/1.0/direct?q=${q}&limit=1&appid=${API_KEY}`
  );
  const d=await r.json();
  if(!d[0]) return alert("‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏°‡∏∑‡∏≠‡∏á");
  loadAll(d[0].lat,d[0].lon);
}

async function getCityName(lat, lon){
  try {
    const r = await fetch(
      `https://api.openweathermap.org/geo/1.0/reverse?lat=${lat}&lon=${lon}&limit=1&appid=${API_KEY}`
    );
    const d = await r.json();

    if (d && d.length > 0) {
      const city =
        d[0].name ||
        d[0].local_names?.th ||
        "‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏∑‡∏≠‡∏á";

      return city;
    }
  } catch (err) {
    console.error(err);
  }
  return "‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏∑‡∏≠‡∏á";
}


/* SELECT LAT LON */
function selectLatLon(){
  const lat=parseFloat(latInput.value);
  const lon=parseFloat(lonInput.value);
  if(isNaN(lat)||isNaN(lon)) return alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
  loadAll(lat,lon);
}

/* LOAD ALL */
async function loadAll(lat,lon){
  if(marker) marker.remove();

  marker = L.marker([lat,lon]).addTo(map);

  // ‚≠ê ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
  map.setView([lat, lon], 9, {
    animate: true
  });

  setTimeout(()=>map.invalidateSize(true),200);

  await loadAir(lat,lon);
}


// ================= AQI FORMULA (PM2.5 ‚Üí US AQI) =================
function pm25ToAQI(pm) {
  if (pm <= 12)    return Math.round((50 / 12) * pm);
  if (pm <= 35.4)  return Math.round(((100 - 51) / (35.4 - 12.1)) * (pm - 12.1) + 51);
  if (pm <= 55.4)  return Math.round(((150 - 101) / (55.4 - 35.5)) * (pm - 35.5) + 101);
  if (pm <= 150.4) return Math.round(((200 - 151) / (150.4 - 55.5)) * (pm - 55.5) + 151);
  return 300;
}

// ================= AQI TEXT + COLOR =================
function getAQIInfo(aqi){
  if(aqi <= 50)   return { text:"‡∏î‡∏µ", cls:"aqi-good" };
  if(aqi <= 100)  return { text:"‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", cls:"aqi-fair" };
  if(aqi <= 150)  return { text:"‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û", cls:"aqi-poor" };
  if(aqi <= 200)  return { text:"‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û", cls:"aqi-bad" };
  return           { text:"‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢", cls:"aqi-verybad" };
}


/* AIR + RISK + FORECAST */
async function loadAir(lat, lon) {

  const r = await fetch(
    `https://api.openweathermap.org/data/2.5/air_pollution/forecast?lat=${lat}&lon=${lon}&appid=${API_KEY}`
  );
  const d = await r.json();

  const now = d.list[0];
  const c = now.components;

  // ‚úÖ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì AQI ‡∏à‡∏≤‡∏Å PM2.5
  const pm25Value = c.pm2_5;
  const aqiValue  = pm25ToAQI(pm25Value);

  // ‚úÖ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á
  let risk;
  if (aqiValue <= 50) risk = 20;
  else if (aqiValue <= 100) risk = 40;
  else if (aqiValue <= 150) risk = 65;
  else if (aqiValue <= 200) risk = 85;
  else risk = 95;

  const cls   = risk < 30 ? "risk-low" : risk < 60 ? "risk-medium" : "risk-high";
  const level = risk < 30 ? "‡∏ï‡πà‡∏≥" : risk < 60 ? "‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á" : "‡∏™‡∏π‡∏á";

  const info = getAQIInfo(aqiValue);

  // ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• AQI
  aqiValueText.innerText = aqiValue;
  aqiLevelText.innerText = info.text;
  aqiCard.className = `aqi-card ${info.cls}`;

  // ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á
  emptyHint.classList.add("hidden");
  dataBox.classList.remove("hidden");

  riskCard.className = `risk-card ${cls}`;
  riskPercent.innerText = risk + "%";
  riskLevel.innerText = "‡∏£‡∏∞‡∏î‡∏±‡∏ö: " + level;

  // ‚úÖ ‡∏Ñ‡πà‡∏≤ pollutant
  pm25.innerText = pm25Value + " ¬µg/m¬≥";
  pm10.innerText = c.pm10 + " ¬µg/m¬≥";
  co.innerText   = c.co + " ¬µg/m¬≥";
  no2.innerText  = c.no2 + " ¬µg/m¬≥";

  // ‚úÖ ‡∏Å‡∏£‡∏≤‡∏ü PM2.5
  const labels = [], values = [];
  d.list.slice(0,16).forEach(i=>{
    labels.push(new Date(i.dt*1000).getHours()+":00");
    values.push(i.components.pm2_5);
  });

  if(chart) chart.destroy();
  chart = new Chart(forecastChart,{
    type:"line",
    data:{
      labels,
      datasets:[{
        label:"PM2.5 (¬µg/m¬≥)",
        data:values,
        tension:.4
      }]
    }
  });
}



aqiValueText.innerText = aqiValue;
aqiLevelText.innerText = aqiInfo[aqiValue].text;
aqiCard.className = `aqi-card ${aqiInfo[aqiValue].cls}`;


  emptyHint.classList.add("hidden");
  dataBox.classList.remove("hidden");

  riskCard.className=`risk-card ${cls}`;
  riskPercent.innerText=risk+"%";
  riskLevel.innerText="‡∏£‡∏∞‡∏î‡∏±‡∏ö: "+level;

  document.getElementById("aqiValueText").innerText = aqiValue;
  pm25.innerText=c.pm2_5+" ¬µg/m¬≥";
  pm10.innerText=c.pm10+" ¬µg/m¬≥";
  co.innerText=c.co+" ¬µg/m¬≥";
  no2.innerText=c.no2+" ¬µg/m¬≥";

  const labels=[],values=[];
  d.list.slice(0,16).forEach(i=>{
    labels.push(new Date(i.dt*1000).getHours()+":00");
    values.push(i.components.pm2_5);
  });

  if(chart) chart.destroy();
  chart=new Chart(forecastChart,{
    type:"line",
    data:{labels,datasets:[{
      label:"PM2.5 (¬µg/m¬≥)",
      data:values,
      borderColor:"#667eea",
      tension:.4
    }]},
    options:{plugins:{legend:{labels:{color:"#fff"}}}}
  });




/* ================= NAV ================= */
function switchPage(page) {
  currentPage = page;
  document.querySelectorAll('.nav-btn').forEach((btn, index) => {
    btn.classList.toggle(
      'active',
      (index === 0 && page === 'map') ||
      (index === 1 && page === 'weather') ||
      (index === 2 && page === 'chat') ||
      (index === 3 && page === 'information') ||
      (index === 4 && page === 'reference') ||
      (index === 5 && page === 'rateus')
    );
  });
  
  // ‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô elements
  document.getElementById('mapPage').classList.toggle('hidden', page !== 'map');
  document.getElementById('dataCard').classList.toggle('hidden', page !== 'map');
  document.getElementById('weatherPage').classList.toggle('hidden', page !== 'weather');
  document.getElementById('chatPage').classList.toggle('hidden', page !== 'chat');
  document.getElementById('informationPage').classList.toggle('hidden', page !== 'information');
  document.getElementById('referencePage').classList.toggle('hidden', page !== 'reference');
  document.getElementById('rateusPage').classList.toggle('hidden', page !== 'rateus');
  
  // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤ weather
  if (page === 'weather') {
    loadWeatherForecast();
  }
  
  // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ container
  const container = document.getElementById('mainContainer');
  if (page === 'map') {
    container.classList.remove('hidden');
  } else {
    container.classList.add('hidden');
  }
}

/* ================= WEATHER FORECAST ================= */
async function loadWeatherForecast() {
  const weatherContent = document.getElementById('weatherContent');
  const weatherLoading = document.getElementById('weatherLoading');
  const weatherError = document.getElementById('weatherError');
  
  // ‡πÅ‡∏™‡∏î‡∏á loading
  weatherLoading.style.display = 'block';
  weatherContent.style.display = 'none';
  weatherError.style.display = 'none';
  
  try {
    const response = await fetch('https://api.openweathermap.org/data/2.5/weather?q=khonkaen&units=metric&lang=th&appid=c7d23cedbff3df0a737c2714bc16c722');
    const data = await response.json();
    
    if (data.cod !== 200) {
      throw new Error('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÑ‡∏î‡πâ');
    }
    
    // ‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®
    const weatherIconCode = data.weather[0].icon;
    const weatherIconUrl = `https://openweathermap.org/img/wn/${weatherIconCode}@4x.png`;
    
    const date = new Date();
    const dayNames = ['‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå', '‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå', '‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£', '‡∏û‡∏∏‡∏ò', '‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ', '‡∏®‡∏∏‡∏Å‡∏£‡πå', '‡πÄ‡∏™‡∏≤‡∏£‡πå'];
    const dayName = dayNames[date.getDay()];
    const dateStr = date.toLocaleDateString('th-TH', { day: 'numeric', month: 'long', year: 'numeric' });
    
    // ‡∏™‡∏£‡πâ‡∏≤‡∏á HTML ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
    const html = `
      <div class="weather-grid">
        <div class="weather-day-card weather-main">
          
          <!-- ‡∏ã‡πâ‡∏≤‡∏¢ -->
          <div class="weather-left">
            <div class="weather-date">${dateStr}</div>
            <div class="weather-day">${dayName}</div>
            <div class="weather-icon">
              <img src="${weatherIconUrl}" alt="${data.weather[0].description}" style="width:120px;height:90px;">
            </div>
            <div class="weather-temp">${Math.round(data.main.temp)}¬∞C</div>
            <div class="weather-temp-range">
              ‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô ${Math.round(data.main.feels_like)}¬∞C
            </div>
            <div class="weather-temp-range">
              ‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î ${Math.round(data.main.temp_min)}¬∞C / ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ${Math.round(data.main.temp_max)}¬∞C
            </div>
            <div class="weather-condition">${data.weather[0].description}</div>
          </div>

          <!-- ‡∏Ç‡∏ß‡∏≤ -->
          <div class="weather-details weather-right">
            <div class="weather-detail-row"><span>üíß ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô:</span><span>${data.main.humidity}%</span></div>
            <div class="weather-detail-row"><span>üí® ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏•‡∏°:</span><span>${data.wind.speed} m/s</span></div>
            <div class="weather-detail-row"><span>üå°Ô∏è ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏î‡∏≠‡∏≤‡∏Å‡∏≤‡∏®:</span><span>${data.main.pressure} hPa</span></div>
            <div class="weather-detail-row"><span>üëÅÔ∏è ‡∏ó‡∏±‡∏®‡∏ô‡∏ß‡∏¥‡∏™‡∏±‡∏¢:</span><span>${(data.visibility/1000).toFixed(1)} km</span></div>
            <div class="weather-detail-row"><span>‚òÅÔ∏è ‡πÄ‡∏°‡∏Ü:</span><span>${data.clouds.all}%</span></div>
          </div>

        </div>
      </div>
    `;

    
    
    
    weatherContent.innerHTML = html;
    weatherLoading.style.display = 'none';
    weatherContent.style.display = 'block';
    
  } catch (error) {
    console.error('Error loading weather:', error);
    weatherLoading.style.display = 'none';
    weatherError.style.display = 'block';
    weatherError.innerHTML = `
      <div style="text-align: center; padding: 40px; color: #ff6b6b;">
        <h3>‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÑ‡∏î‡πâ</h3>
        <p>${error.message}</p>
      </div>
    `;
  }

}
  
  // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ container
  const container = document.getElementById('mainContainer');
  if (page === 'map') {
    container.classList.remove('hidden');
  } else {
    container.classList.add('hidden');
  }


/* ================= CHAT ================= */
/* ================= HEALTH CHECK FUNCTIONS ================= */

function get(id) {
  return document.getElementById(id)?.checked ? 1 : 0;
}

function num(id) {
  return Number(document.getElementById(id).value);
}

// ‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à
function analyzeResp() {
  const data = {
    cough: get("cough"),
    feverlittle: get("feverlittle"),
    sore_throat: get("sore_throat"),
    aqi: num("aqi")
  };
  
  const resultBox = document.getElementById("respiratoryResult");
  const resultContent = document.getElementById("respiratoryContent");
  
  // ‡πÅ‡∏™‡∏î‡∏á loading
  resultContent.innerHTML = '<div style="text-align: center; padding: 20px;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå...</div>';
  resultBox.classList.add("show");
  resultBox.className = "result-box show";

  fetch("https://ml-project-hdpr.onrender.com/analyze", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  })
  .then(res => res.json())
  .then(res => showResult("respiratoryContent", "‡πÇ‡∏£‡∏Ñ‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à", res.possible_diseases))
  .catch(err => {
    resultContent.innerHTML = '<div style="color: #e74c3c;">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + err.message + '</div>';
    resultBox.className = "result-box show high";
  });
}

// ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô
function analyzeHeat() {
  const data = {
    high_temp: get("high_temp"),
    heavy_sweat: get("heavy_sweat"),
    dizziness: get("dizziness"),
    temperature: num("temperature")
  };
  
  const resultBox = document.getElementById("heatResult");
  const resultContent = document.getElementById("heatContent");
  
  // ‡πÅ‡∏™‡∏î‡∏á loading
  resultContent.innerHTML = '<div style="text-align: center; padding: 20px;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå...</div>';
  resultBox.classList.add("show");
  resultBox.className = "result-box show";

  fetch("https://ml-project-hdpr.onrender.com/analyze_heat", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  })
  .then(res => res.json())
  .then(res => showResult("heatContent", "‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô", res.possible_heat_illnesses))
  .catch(err => {
    resultContent.innerHTML = '<div style="color: #e74c3c;">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + err.message + '</div>';
    resultBox.className = "result-box show high";
  });
}

function showResult(contentId, title, list) {
  const content = document.getElementById(contentId);
  let html = `<h3 style="margin-top: 0; color: #3b82f6;">${title}</h3>`;
  
  if (list && list.length > 0) {
    // ‡∏´‡∏≤‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
    const maxProb = Math.max(...list.map(d => d.probability));
    
    list.forEach(d => {
      const percentage = (d.probability * 100).toFixed(2);
      let color = '#2ecc71'; // ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß - ‡∏ï‡πà‡∏≥
      
      if (d.probability > 0.7) {
        color = '#e74c3c'; // ‡πÅ‡∏î‡∏á - ‡∏™‡∏π‡∏á
      } else if (d.probability > 0.4) {
        color = '#f1c40f'; // ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á - ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á
      }
      
      html += `
        <div style="
          margin: 10px 0;
          padding: 12px;
          background: rgba(255,255,255,0.05);
          border-left: 4px solid ${color};
          border-radius: 8px;
        ">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <span style="font-weight: 600;">${d.name}</span>
            <span style="color: ${color}; font-weight: 700; font-size: 18px;">${percentage}%</span>
          </div>
        </div>
      `;
    });
    
    // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
    const resultBox = contentId === "respiratoryContent" 
      ? document.getElementById("respiratoryResult")
      : document.getElementById("heatResult");
    
    if (maxProb > 0.7) {
      resultBox.className = "result-box show high";
    } else if (maxProb > 0.4) {
      resultBox.className = "result-box show medium";
    } else {
      resultBox.className = "result-box show low";
    }
  } else {
    html += '<div style="color: #aaa;">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>';
  }
  
  content.innerHTML = html;
}


</script>

</body>
</html>